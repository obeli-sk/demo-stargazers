api.listening_addr = "127.0.0.1:5005"   # Address and port on which the API server will listen.
webui.listening_addr = "127.0.0.1:8080" # Address and port on which the webui will listen.

[log.stdout]
enabled = true

[[activity_wasm]]
name = "activity_llm_chatgpt"
location.oci = "docker.io/getobelisk/demo_stargazersactivity_llm_chatgpt:2025-01-17@sha256:04593fb9b80116836bbfd06f0cf613ff1dd1fd1086576a0c192b8c5a09032224"
exec.lock_expiry.secs = 10
env_vars = ["OPENAI_API_KEY"]

[[activity_wasm]]
name = "activity_account_github"
location.oci = "docker.io/getobelisk/demo_stargazersactivity_account_github:2025-01-17@sha256:23e4efe3ae8a43c48cdf5722289a1f796604ebf07f1f3cc8fda6feb72014066f"
env_vars = ["GITHUB_TOKEN"]
exec.lock_expiry.secs = 5

[[activity_wasm]]
name = "activity_db_turso"
location.oci = "docker.io/getobelisk/demo_stargazersactivity_db_turso:2025-01-17@sha256:1cff53f7a81febf2cb6e9f6093845d7c4e6c09bfa489001e97e443fef5f2d0ad"
env_vars = ["TURSO_TOKEN", "TURSO_LOCATION"]

[[workflow]]
name = "workflow"
location.oci = "docker.io/getobelisk/demo_stargazersworkflow:2025-01-17@sha256:481dd990aa1da820425b01a77e6a4df8efc22a7c41e1f87ae7476dc86a731cb1"

[[http_server]]
name = "webhook_server"
listening_addr = "0.0.0.0:9090"

[[webhook_endpoint]]
name = "webhook"
location.oci = "docker.io/getobelisk/demo_stargazerswebhook:2025-01-17@sha256:43b55663e1143829a4fa9673320388b8f8ebac0777c168768d30412f1874ea3f"
http_server = "webhook_server"
routes = [{ methods = ["POST", "GET"], route = "" }]
forward_stdout = "stderr"
forward_stderr = "stderr"
env_vars = [
    "GITHUB_WEBHOOK_SECRET",
    # "GITHUB_WEBHOOK_INSECURE=true" to disable signature verification
]

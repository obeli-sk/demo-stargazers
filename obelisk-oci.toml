api.listening_addr = "127.0.0.1:5005"   # Address and port on which the API server will listen.
webui.listening_addr = "127.0.0.1:8080" # Address and port on which the webui will listen.

[log.stdout]
enabled = true

[[activity_wasm]]
name = "activity_llm_chatgpt"
location.oci = "docker.io/getobelisk/demo_stargazersactivity_llm_chatgpt:2025-01-28@sha256:713724352a51747c1565a58bf1dd8b834d1eb9677d999fe7d3e50886e69a2bf7"
exec.lock_expiry.secs = 10
env_vars = ["OPENAI_API_KEY"]

[[activity_wasm]]
name = "activity_github_impl"
location.oci = "docker.io/getobelisk/demo_stargazersactivity_account_github:2025-01-28@sha256:1987513a36b250cb5d9f029e5676031e4a027d97946065e596748112c32ee1d6"
env_vars = ["GITHUB_TOKEN"]
exec.lock_expiry.secs = 5

[[activity_wasm]]
name = "activity_db_turso"
location.oci = "docker.io/getobelisk/demo_stargazersactivity_db_turso:2025-01-28@sha256:c688903c3abddf2eb0c7b9676ca2dd8f29ba4d252afc66473454b15e94ee8266"
env_vars = ["TURSO_TOKEN", "TURSO_LOCATION"]

[[workflow]]
name = "workflow"
location.oci = "docker.io/getobelisk/demo_stargazersworkflow:2025-01-28@sha256:032ad31e9243895c279e39f9d9fb360ce8666d298d2ee184e045f2cf44a452c4"

[[http_server]]
name = "webhook_server"
listening_addr = "0.0.0.0:9090"

[[webhook_endpoint]]
name = "webhook"
location.oci = "docker.io/getobelisk/demo_stargazerswebhook:2025-01-28@sha256:7e5d7269cfefe458d2dd161ba0a839ce0a734f5093e32a27fb42c465bff0876c"
http_server = "webhook_server"
routes = [{ methods = ["POST", "GET"], route = "" }]
forward_stdout = "stderr"
forward_stderr = "stderr"
env_vars = [
    "GITHUB_WEBHOOK_SECRET",
    # "GITHUB_WEBHOOK_INSECURE=true" # to disable signature verification
]

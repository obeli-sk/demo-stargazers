// Code generated by wit-bindgen-go. DO NOT EDIT.

// Package workflowsupport represents the imported interface "obelisk:workflow/workflow-support@4.0.0".
package workflowsupport

import (
	"github.com/obeli-sk/demo-stargazers/workflow-go/gen/obelisk/types/execution"
	joinset "github.com/obeli-sk/demo-stargazers/workflow-go/gen/obelisk/types/join-set"
	"github.com/obeli-sk/demo-stargazers/workflow-go/gen/obelisk/types/time"
	"go.bytecodealliance.org/cm"
)

// ScheduleAt represents the type alias "obelisk:workflow/workflow-support@4.0.0#schedule-at".
//
// See [time.ScheduleAt] for more information.
type ScheduleAt = time.ScheduleAt

// DateTime represents the type alias "obelisk:workflow/workflow-support@4.0.0#datetime".
//
// See [time.DateTime] for more information.
type DateTime = time.DateTime

// DelayID represents the type alias "obelisk:workflow/workflow-support@4.0.0#delay-id".
//
// See [execution.DelayID] for more information.
type DelayID = execution.DelayID

// ExecutionID represents the type alias "obelisk:workflow/workflow-support@4.0.0#execution-id".
//
// See [execution.ExecutionID] for more information.
type ExecutionID = execution.ExecutionID

// ResponseID represents the type alias "obelisk:workflow/workflow-support@4.0.0#response-id".
//
// See [execution.ResponseID] for more information.
type ResponseID = execution.ResponseID

// JoinSet represents the imported type alias "obelisk:workflow/workflow-support@4.0.0#join-set".
//
// See [joinset.JoinSet] for more information.
type JoinSet = joinset.JoinSet

// JoinSetCreateError represents the variant "obelisk:workflow/workflow-support@4.0.0#join-set-create-error".
//
// Error variants that may occur on named join set creation.
//
//	variant join-set-create-error {
//		conflict,
//		invalid-name(string),
//	}
type JoinSetCreateError cm.Variant[uint8, string, string]

// JoinSetCreateErrorConflict returns a [JoinSetCreateError] of case "conflict".
func JoinSetCreateErrorConflict() JoinSetCreateError {
	var data struct{}
	return cm.New[JoinSetCreateError](0, data)
}

// Conflict returns true if [JoinSetCreateError] represents the variant case "conflict".
func (self *JoinSetCreateError) Conflict() bool {
	return self.Tag() == 0
}

// JoinSetCreateErrorInvalidName returns a [JoinSetCreateError] of case "invalid-name".
func JoinSetCreateErrorInvalidName(data string) JoinSetCreateError {
	return cm.New[JoinSetCreateError](1, data)
}

// InvalidName returns a non-nil *[string] if [JoinSetCreateError] represents the variant case "invalid-name".
func (self *JoinSetCreateError) InvalidName() *string {
	return cm.Case[string](self, 1)
}

var _JoinSetCreateErrorStrings = [2]string{
	"conflict",
	"invalid-name",
}

// String implements [fmt.Stringer], returning the variant case name of v.
func (v JoinSetCreateError) String() string {
	return _JoinSetCreateErrorStrings[v.Tag()]
}

// RandomU64 represents the imported function "random-u64".
//
// Returns a random u64 in the range [min, max).
//
//	random-u64: func(min: u64, max-exclusive: u64) -> u64
//
//go:nosplit
func RandomU64(min_ uint64, maxExclusive uint64) (result uint64) {
	min0 := (uint64)(min_)
	maxExclusive0 := (uint64)(maxExclusive)
	result0 := wasmimport_RandomU64((uint64)(min0), (uint64)(maxExclusive0))
	result = (uint64)((uint64)(result0))
	return
}

// RandomU64Inclusive represents the imported function "random-u64-inclusive".
//
// Returns a random u64 in the range [min, max].
//
//	random-u64-inclusive: func(min: u64, max-inclusive: u64) -> u64
//
//go:nosplit
func RandomU64Inclusive(min_ uint64, maxInclusive uint64) (result uint64) {
	min0 := (uint64)(min_)
	maxInclusive0 := (uint64)(maxInclusive)
	result0 := wasmimport_RandomU64Inclusive((uint64)(min0), (uint64)(maxInclusive0))
	result = (uint64)((uint64)(result0))
	return
}

// RandomString represents the imported function "random-string".
//
// Returns a random string with a length in the range [min_length, max_length).
// The string consists only of alphanumeric characters (lowercase and uppercase letters,
// digits).
//
//	random-string: func(min-length: u16, max-length-exclusive: u16) -> string
//
//go:nosplit
func RandomString(minLength uint16, maxLengthExclusive uint16) (result string) {
	minLength0 := (uint32)(minLength)
	maxLengthExclusive0 := (uint32)(maxLengthExclusive)
	wasmimport_RandomString((uint32)(minLength0), (uint32)(maxLengthExclusive0), &result)
	return
}

// Sleep represents the imported function "sleep".
//
// Block execution for given time, return the time when the durable sleep expires.
// Returns error if the delay is cancelled.
//
//	sleep: func(schedule-at: schedule-at) -> result<datetime>
//
//go:nosplit
func Sleep(scheduleAt ScheduleAt) (result cm.Result[DateTime, DateTime, struct{}]) {
	scheduleAt0, scheduleAt1, scheduleAt2 := lower_ScheduleAt(scheduleAt)
	wasmimport_Sleep((uint32)(scheduleAt0), (uint64)(scheduleAt1), (uint64)(scheduleAt2), &result)
	return
}

// JoinSetCreate represents the imported function "join-set-create".
//
// Create a new join set with a generated name.
//
//	join-set-create: func() -> join-set
//
//go:nosplit
func JoinSetCreate() (result JoinSet) {
	result0 := wasmimport_JoinSetCreate()
	result = cm.Reinterpret[JoinSet]((uint32)(result0))
	return
}

// JoinSetCreateNamed represents the imported function "join-set-create-named".
//
// Create a new join set with the specified name.
// The name may only contain alphanumeric characters and the following extra characters:
// * underscore `_`
// * dash `-`
// * forward slash `/`
//
//	join-set-create-named: func(name: string) -> result<join-set, join-set-create-error>
//
//go:nosplit
func JoinSetCreateNamed(name string) (result cm.Result[JoinSetCreateErrorShape, JoinSet, JoinSetCreateError]) {
	name0, name1 := cm.LowerString(name)
	wasmimport_JoinSetCreateNamed((*uint8)(name0), (uint32)(name1), &result)
	return
}

// JoinSetClose represents the imported function "join-set-close".
//
// Explicitly close join set. Unawaited delay requests are ignored,
// unawaited activities are cancelled, unawaited child workflows block
// until finish, as mandated by structured concurrency pattern.
// Extension function `-get` can be later used to lookup the execution result.
//
//	join-set-close: func()
//
//go:nosplit
func JoinSetClose(self JoinSet) {
	self0 := cm.Reinterpret[uint32](self)
	wasmimport_JoinSetClose((uint32)(self0))
	return
}
